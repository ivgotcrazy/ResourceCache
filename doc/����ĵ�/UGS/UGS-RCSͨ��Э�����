

UGS - RCS 通信协议设计



BT协议通信消息

=============================================================================
1. keep-alive消息

RCS主动向UGS发送，发送时间间隔固定为3s，UGS按照3倍时长即9秒检测超时。

无回复

=============================================================================

2. report-resource消息

RCS在发送keep-alive消息后，主动向UGS发送report消息，报告本设备上已
经存在的资源列表。

无回复

=============================================================================

3. report-service-address消息

RCS在发送完report-resource消息后，需要立即发送report-service-address消息，通告
监听服务的IP:PORT列表。

通告监听地址列表后，就认为是可服务对象了。

无回复。

=============================================================================

4. request-tracker消息

RCS向UGS发起请求，消息中包含请求的InfoHash

UGS向RCS发送回复，消息中包含InfoHash及对应的tracker-list

=============================================================================

5. request-rcs消息

支持获取三种类型的RCS
1) cached: 已经缓存了此资源的RCS
2) inner proxy: 本地缓存代理，与请求RCS属于同一域
3) outer proxy: 外部缓存代理，与请求RCS不属于同一域

其他参数：
需要包含参数InfoHash，指明资源对象。
需要包含参数指定获取的个数。

回复消息中需要指明RCS类型，InfoHash以及返回的RCS列表。

=============================================================================

说明：
1. 消息传送的可靠性由TCP保证。
2. 以上所有消息都需要携带domain字段。






